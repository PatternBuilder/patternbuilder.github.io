<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Drupal Module - Pattern Builder</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Drupal Module";
    var mkdocs_page_input_path = "pattern_builder_module.md";
    var mkdocs_page_url = "/pattern_builder_module/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Pattern Builder</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../pattern_kit/">Pattern Kit</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../pattern_builder_library/">PHP Library</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Drupal Module</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#pattern-builder-drupal-module">Pattern Builder Drupal Module</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-it">What is it?</a></li>
                
                    <li><a class="toctree-l4" href="#why">Why</a></li>
                
                    <li><a class="toctree-l4" href="#where">Where</a></li>
                
                    <li><a class="toctree-l4" href="#setup">Setup</a></li>
                
                    <li><a class="toctree-l4" href="#how">How</a></li>
                
                    <li><a class="toctree-l4" href="#json-schema-support">JSON Schema Support</a></li>
                
                    <li><a class="toctree-l4" href="#troubleshooting">Troubleshooting</a></li>
                
                    <li><a class="toctree-l4" href="#todo">TODO</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../pattern_builder_importer/">Drupal Schema Importer</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../using_pattern_builder/">Drupal Usage</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Pattern Builder</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Drupal Module</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="pattern-builder-drupal-module">Pattern Builder Drupal Module</h2>
<h3 id="what-is-it">What is it?</h3>
<p>The Pattern Builder Module empowers your team to prototype in a static pattern library and then import the designs and content data model into Drupal with a single drush command.</p>
<p>Need to update your design? No problem! Just update and QA the code in your pattern library and import those changes to Drupal in seconds.</p>
<h4 id="system-architecture">System Architecture</h4>
<p><img alt="Pattern Builder Drupal System Architecture" src="../media/patternbuilder-diagrams-top-level-20160826-3.png" title="Pattern Builder Drupal System Architecture" /></p>
<h3 id="why">Why</h3>
<ol>
<li>
<p>The Pattern Builder System empowers us to create a design system out of JSON schemas and Twig templates. To do this efficiently we need a tool that allows us to quickly prototype, build and validate our content structure and visual design.</p>
</li>
<li>
<p>It is important that developers and stakeholders have access to the growing design system.</p>
</li>
</ol>
<h3 id="where">Where</h3>
<ol>
<li>Drupal.org: <a href="https://www.drupal.org/project/patternbuilder">https://www.drupal.org/project/patternbuilder</a></li>
<li>GitHub: <a href="https://github.com/PatternBuilder/pattern-builder-drupal">https://github.com/PatternBuilder/pattern-builder-drupal</a></li>
</ol>
<h3 id="setup">Setup</h3>
<p>The Pattern Builder module contains a composer.json to build the library dependencies.
Below are some options to integrate the patternbuilder module into a project.</p>
<ol>
<li>
<p>Composer Manager Module: <a href="https://www.drupal.org/project/composer_manager">https://www.drupal.org/project/composer_manager</a></p>
<ul>
<li>Install the composer_manager module.</li>
<li>Download and install the patternbuilder module: <code>drush en -y patternbuilder</code></li>
<li>See the Composer Manager's documentation for more commands.</li>
</ul>
</li>
<li>
<p>Git clone / Drush Make file</p>
<ul>
<li>Clone repo to the site's modules directory (Example: "sites/all/modules").</li>
<li>Run <code>composer install</code> within the patternbuilder module's directory.</li>
</ul>
</li>
</ol>
<h3 id="how">How</h3>
<p>See <a href="../using_pattern_builder/">Using Pattern Builder</a>.</p>
<h3 id="json-schema-support">JSON Schema Support</h3>
<ol>
<li>
<p>Property "uniqueId"</p>
<p>If the schema defines a "uniqueId" property, then the property value is set to the paragraph entity's item id during the rendering process.</p>
</li>
</ol>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>All errors and warnings are logged via the Drupal watchdog() function.
One of the following modules should be enabled on the site:</p>
<ul>
<li>Database logging (dblog):<ul>
<li>Drupal configuration: "/admin/config/development/logging"</li>
<li>View logs: "/admin/reports/dblog", filter by type = "patternbuilder"</li>
</ul>
</li>
<li>Syslog (syslog):<ul>
<li>Drupal configuration: "/admin/config/development/logging"</li>
<li>View logs: Logs are available in the server log files, search for logs with "patternbuilder". Actual location depends on the server's config for syslog.</li>
</ul>
</li>
</ul>
<h4 id="log-messages">Log Messages</h4>
<p><strong>WARNING: 'Duplicate schemas found for "my_schema" at "file:///path/to/schemas-alternative/my_schema.json". The first schema registered will be used until this conflict has been resolved. Active schema: "file:///path/to/schemas/my_schema.json"'</strong></p>
<p>The Pattern Builder module allows multiple schema directories to be defined at "admin/config/content/patternbuilder". This message is logged when there is a schema file with the same name in multiple directories.</p>
<ul>
<li>Check that the schema directories are configured correctly at "admin/config/content/patternbuilder".</li>
<li>Verify the schema files in the directories.</li>
</ul>
<hr />
<p><strong>ERROR: 'An error occurred while rendering the "pbi_my_schema" paragraph item (id:1, revision:22) on node (id:234, revision:6788): Unable to find template ".twig" (looked into: /var/www/html/path/to/schemas, /var/www/html/path/to/schemas-alternative) in "my_band.twig" at line 61.</strong></p>
<p>The error log "An error occurred while rendering ..." occurs during rendering of the field formatter typically on the node page.  This error is logged for any error occurring in the Pattern Library rendering of the schema and TWIG template.</p>
<p>This is a silent error so that it does not stop the rendering of the rest of patterns and the Drupal page. The failed pattern will not be displayed on the page.</p>
<p>A common error is displayed above. This is an error when a TWIG template includes another template without specifying a file name.</p>
<hr />
<h3 id="todo">TODO</h3>
<p>Install Options: (NEEDS CLEANUP)
install patternbuilder module, composer install in the patternbuilder module folder + install composer_manager</p>
<p>OR</p>
<p>install patternbuilder module, clone patternbuilder-lib-php into libraries and then composer install from there</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../pattern_builder_importer/" class="btn btn-neutral float-right" title="Drupal Schema Importer">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../pattern_builder_library/" class="btn btn-neutral" title="PHP Library"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../pattern_builder_library/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../pattern_builder_importer/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
